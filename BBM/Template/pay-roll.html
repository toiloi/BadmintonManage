<table class="table">
    <thead>
        <tr>
            <th>Tên</th>
            <th>Email</th>
            <th>Ngày Công</th>
            <th>Lương (VNĐ)</th>
            <th>Chấm Công</th>
        </tr>
    </thead>
    <tbody id="payroll-list">
        <!-- Dữ liệu sẽ được load từ localStorage -->
    </tbody>
</table>
<script>
function loadPayroll() {
    let staffList = JSON.parse(localStorage.getItem("staffList")) || [];
    let table = document.getElementById("payroll-list");
    table.innerHTML = "";

    staffList.forEach((staff, index) => {
        let row = table.insertRow();
        row.innerHTML = `
            <td>${staff.name}</td>
            <td>${staff.email}</td>
            <td><input type="number" id="days-${index}" value="${staff.days || 0}" min="0"></td>
            <td>${(staff.days || 0) * staff.salaryPerDay} VNĐ</td>
            <td>
                <button class="btn btn-primary" onclick="updatePayroll(${index})">Lưu</button>
            </td>
        `;
    });
}

function updatePayroll(index) {
    let staffList = JSON.parse(localStorage.getItem("staffList")) || [];
    let daysWorked = document.getElementById(`days-${index}`).value;
    
    staffList[index].days = daysWorked;
    localStorage.setItem("staffList", JSON.stringify(staffList));
    loadPayroll();
}
</script>
