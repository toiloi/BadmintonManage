{%load static%}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng ký</title>
    <link rel="stylesheet" href="{% static 'home/css/Register.css' %}">
</head>
<body>
    <div class="container">
        <div class="form-section">
            <h2>Đăng Ký</h2>
            <form id="registrationForm" method="POST" action="{% url 'register' %}">
                {% csrf_token %}
                <!-- Hiển thị lỗi nếu có -->
                {% if form.errors %}
                    <div class="error-message">
                        <p>Đã có lỗi xảy ra. Vui lòng kiểm tra lại thông tin.</p>
                    </div>
                {% endif %}

                <!-- Bước 1: Thông tin tài khoản -->
                <div id="step1">
                    <div class="form-group">
                        <label>Tên tài khoản</label>
                        <!-- <input type="text" name="username" placeholder="Nhập tên tài khoản" required> -->
                        {{form.username}}
                    </div>
                    <div class="form-group">
                        <label>Chọn vai trò</label>
                        <!-- <select name="role" required>
                            <option value="Customer">Customer</option>
                            <option value="Court Manager">Court Manager</option>
                            <option value="Court Staff">Court Staff</option>
                        </select> -->
                        {{form.role}}
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <!-- <input type="email" name="email" placeholder="Nhập email" required> -->
                        {{form.email}}
                    </div>
                    <div class="form-group">
                        <label>Mật khẩu</label>
                        <!-- <input type="password" name="password1" placeholder="Nhập mật khẩu" required> -->
                        {{form.password1}}
                    </div>
                    <div class="form-group">
                        <label>Nhập lại mật khẩu</label>
                        <!-- <input type="password" name="password2" placeholder="Nhập lại mật khẩu" required> -->
                        {{form.password2}}
                    </div>
                    <button type="button" class="button" onclick="nextStep(1)">Tiếp theo</button>
                </div>

                <!-- Bước 2: Thông tin cá nhân -->
                <div id="step2" class="hidden">
                    <div class="form-group">
                        <label>Họ</label>
                        <!-- <input type="text" name="last_name" placeholder="Nhập họ của bạn" required> -->
                        {{form.last_name}}
                    </div>
                    <div class="form-group">
                        <label>Tên</label>
                        <!-- <input type="text" name="first_name" placeholder="Nhập tên của bạn" required> -->
                        {{form.first_name}}
                    </div>
                    <div class="form-group">
                        <label>Giới tính</label>
                        <!-- <select name="gender" required>
                            <option value="Nam">Nam</option>
                            <option value="Nữ">Nữ</option>
                            <option value="Khác">Khác</option>
                        </select> -->
                        {{form.gender}}
                    </div>
                    <div class="form-group">
                        <label>Số điện thoại</label>
                        <!-- <input type="text" name="sdt" placeholder="Nhập số điện thoại của bạn" required> -->
                        {{form.sdt}}
                    </div>
                    <button type="button" class="button" onclick="prevStep(2)">Quay lại</button>
                    <button type="submit" class="button">Đăng Ký</button>
                </div>
            </form>
            <p class="switch-text">Đã có tài khoản? <a href="{% url 'login' %}">Đăng nhập</a></p>
        </div>
        <div class="image-section"></div>
    </div>

    <script>
        function nextStep(step) {
            document.getElementById("step" + step).classList.add("hidden");
            document.getElementById("step" + (step + 1)).classList.remove("hidden");
        }

        function prevStep(step) {
            document.getElementById("step" + step).classList.add("hidden");
            document.getElementById("step" + (step - 1)).classList.remove("hidden");
        }
    </script>
</body>
</html>