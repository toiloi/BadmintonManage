<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBM - Quản Lý Sân Cầu Lông</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script defer src="script.js"></script>
    <style>
        body { font-family: 'Arial', sans-serif; background-color: #f8f9fa; }
        #sidebar-wrapper { width: 250px; height: 100vh; background-color: #2c3e50; }
        .sidebar-heading { padding: 15px; font-size: 1.2rem; font-weight: bold; }
        .list-group-item { color: #ffffff; border: none; position: relative; cursor: pointer; }
        .list-group-item:hover { background-color: #1abc9c; }
        .submenu { display: none; background: #34495e; padding: 10px; border-radius: 5px; }
        .list-group-item:hover .submenu { display: block; position: absolute; left: 100%; top: 0; min-width: 200px; z-index: 1000; }
        .main-content { padding: 20px; }
        .card { box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); border-radius: 10px; }
        .stats { font-size: 1.5rem; font-weight: bold; }
        footer { background: #2c3e50; color: white; padding: 10px; text-align: center; }
        .content-section {display: none; /* Mặc định ẩn */}
        .content-section.active {display: block; /* Hiển thị khi được chọn */}
    </style>
</head>
<body>
    <div class="d-flex" id="wrapper">
        <!-- Sidebar -->
        <div class="bg-dark" id="sidebar-wrapper">
            <div class="sidebar-heading text-white text-center">BBM Quản Lý</div>
            <div class="list-group list-group-flush">
                <div class="list-group-item bg-dark">
                    <i class="fas fa-basketball-ball me-2"></i> Sân Cầu Lông
                    <div class="submenu">
                        <a href="add-court.html" class="text-white d-block">Thêm Sân</a>
                        <a href="manage-court.html" class="text-white d-block">Quản Lý Sân</a>
                    </div>
                </div>
                <div class="list-group-item bg-dark">
                    <i class="fas fa-calendar-alt me-2"></i> Đặt Sân
                    <div class="submenu">
                        <a href="#time-slot" class="text-white d-block">Đặt Khung Giờ</a>
                        <a href="#pricing" class="text-white d-block">Cài Đặt Giá</a>
                        <a href="#policy" class="text-white d-block">Chính Sách</a>
                    </div>
                </div>
                <div class="list-group-item bg-dark">
                    <i class="fas fa-users me-2"></i> Nhân Viên
                    <div class="submenu">
                        <a href="#approve-staff" class="text-white d-block">Xét Duyệt</a>
                        <a href="#staff-list" class="text-white d-block">Danh Sách</a>
                        <a href="#payroll" class="text-white d-block">Chấm Công</a>
                    </div>
                </div>
                <div class="list-group-item bg-dark">
                    <i class="fas fa-trophy me-2"></i> Lịch Thi Đấu
                    <div class="submenu">
                        <a href="#confirm-booking" class="text-white d-block">Xác Nhận Đặt Sân</a>
                        <a href="#tournament" class="text-white d-block">Tạo Giải Đấu</a>
                    </div>
                </div>
                <div class="list-group-item bg-dark">
                    <i class="fas fa-chart-line me-2"></i> Doanh Thu
                    <div class="submenu">
                        <a href="#report" class="text-white d-block">Thống Kê</a>
                        <a href="#payment" class="text-white d-block">Thanh Toán</a>
                    </div>
                </div>
                <div class="list-group-item bg-dark">
                    <i class="fas fa-gift me-2"></i> Khuyến Mãi
                    <div class="submenu">
                        <a href="#add-promo" class="text-white d-block">Thêm Khuyến Mãi</a>
                        <a href="#vip" class="text-white d-block">Khách Hàng VIP</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Page Content -->
        <div id="page-content-wrapper" class="container-fluid main-content">
            <nav class="navbar navbar-expand-lg navbar-light bg-light rounded shadow-sm p-3 mb-4">
                <button class="btn btn-primary" id="menu-toggle">☰</button>
                <span class="ms-auto">Xin chào, Admin</span>
            </nav>
            <div class="row">
                <div class="col-lg-4">
                    <div class="card p-4 mb-4 text-center">
                        <h5>Doanh Thu</h5>
                        <p class="stats text-success">10,000,000 VNĐ</p>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="card p-4 mb-4 text-center">
                        <h5>Số Lượng Đặt Sân</h5>
                        <p class="stats text-primary">120</p>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="card p-4 mb-4 text-center">
                        <h5>Tình Trạng Sân</h5>
                        <p class="stats text-danger">5 Sân Trống / 20 Sân</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <p>&copy; 2025 BBM - Quản Lý Sân Cầu Lông</p>
    </footer>
        <!-- Form Thêm Sân -->
    <div id="add-court-section" class="content-section">
        <h2>Thêm Sân Mới</h2>
        <form id="court-form">
            <label for="court-name">Tên Sân:</label>
            <input type="text" id="court-name" class="form-control" required>
            
            <label for="court-address">Địa Chỉ:</label>
            <input type="text" id="court-address" class="form-control" required>
            
            <label for="court-image">Hình Ảnh:</label>
            <input type="file" id="court-image" class="form-control">
            
            <label for="court-description">Mô Tả:</label>
            <textarea id="court-description" class="form-control"></textarea>
            
            <label>Đặt Khung Giờ Hoạt Động:</label>
            <input type="time" id="court-time" class="form-control">
            
            <label>Cài Đặt Giá (Giờ Cao Điểm, Thấp Điểm):</label>
            <input type="text" id="court-price" class="form-control">
            
            <button type="button" class="btn btn-primary mt-3" onclick="addCourt()">Thêm Sân</button>
        </form>
    </div>
    <!-- Quản lý sân -->
    <div id="manage-court-section" class="content-section">
        <h2>Quản Lý Sân</h2>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Tên Sân</th>
                    <th>Địa Chỉ</th>
                    <th>Giờ Hoạt Động</th>
                    <th>Giá</th>
                    <th>Hành Động</th>
                </tr>
            </thead>
            <tbody id="court-list">
                <!-- Danh sách sân sẽ được thêm vào đây -->
            </tbody>
        </table>
    </div>
    <script>
        
        document.getElementById("menu-toggle").addEventListener("click", function() {
            document.getElementById("wrapper").classList.toggle("toggled");
        });
        document.addEventListener("DOMContentLoaded", function () {
            showSection("add-court-section"); // Hiển thị "Thêm Sân" mặc định
            loadCourtsFromStorage();
        });
        // Hàm hiển thị phần nội dung theo ID
        function showSection(sectionId) {
            document.querySelectorAll(".content-section").forEach(section => {
                section.classList.remove("active"); // Ẩn tất cả
            });
            document.getElementById(sectionId).classList.add("active"); // Hiện phần được chọn
        }
        function addCourt() {
        let name = document.getElementById("court-name").value;
        let address = document.getElementById("court-address").value;
        let time = document.getElementById("court-time").value;
        let price = document.getElementById("court-price").value;

        if (!name || !address || !time || !price) {
            alert("Vui lòng nhập đầy đủ thông tin!");
            return;
        }
        let courts = JSON.parse(localStorage.getItem("courts")) || [];
        localStorage.setItem("courts", JSON.stringify(courts));

        loadCourtsFromStorage(); // Tải lại danh sách sân sau khi thêm
        document.getElementById("court-form").reset();
        showSection("manage-court-section");
        }
        function loadCourtsFromStorage() {
            let courts = JSON.parse(localStorage.getItem("courts")) || [];
            let table = document.getElementById("court-list");
            table.innerHTML = ""; // Xóa danh sách cũ trước khi cập nhật mới

            courts.forEach((court, index) => {
                let row = table.insertRow();
                row.innerHTML = `
                    <td>${court.name}</td>
                    <td>${court.address}</td>
                    <td>${court.time}</td>
                    <td>${court.price}</td>
                    <td>
                        <button class="btn btn-warning btn-sm" onclick="editCourt(${index})">Sửa</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteCourt(${index})">Xóa</button>
                    </td>
                `;
            });
        }
        function deleteCourt(index) {
            let courts = JSON.parse(localStorage.getItem("courts")) || [];
            courts.splice(index, 1);
            localStorage.setItem("courts", JSON.stringify(courts));

            loadCourtsFromStorage(); // Cập nhật danh sách sau khi xóa
        }

        // Hàm sửa sân
        function editCourt(index) {
            let courts = JSON.parse(localStorage.getItem("courts")) || [];
            let court = courts[index];

            document.getElementById("court-name").value = court.name;
            document.getElementById("court-address").value = court.address;
            document.getElementById("court-time").value = court.time;
            document.getElementById("court-price").value = court.price;

            courts.splice(index, 1);
            localStorage.setItem("courts", JSON.stringify(courts));

            loadCourtsFromStorage(); // Cập nhật danh sách sau khi chỉnh sửa
            showSection("add-court-section");
        }
    </script>
</body>
</html>
